<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detección de Tecla</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
    }
    .mensaje {
      font-size: 24px;
      margin-top: 20px;
      color: blue;
    }
    .advertencia {
      font-size: 20px;
      color: red;
      margin-top: 40px;
    }
  </style>
</head>
<body>

  <h1>Presiona A, T, M, 7, 3, 4, P, O, F, S, C o D</h1>
  <p class="mensaje" id="resultado">ESCOJA NOMBRE</p>

  <h2>Iniciar Sesión</h2>
  <label for="username">Usuario:</label>
  <input type="text" class="form-control" id="username" readonly>

  <!-- Mensaje de advertencia aquí -->
  <p class="advertencia" id="mensajeFinal"></p>

  <script>
    // Relación de teclas con usuarios
    const usuarios = {
      'a': 'Ana',
      't': 'Tomás',
      'm': 'María',
      '7': 'Luis',
      '3': 'Sofía',
      '4': 'Carlos',
      'p': 'Patricia',
      'o': 'Oliver',
      'f': 'Fermín',
      's': 'Sonia',
      'c': 'Checho',
      'd': 'Daniel'
    };

    let teclaPresionada = false;
    let primerUsuario = '';

    window.addEventListener('keydown', function(event) {
      const tecla = event.key.toLowerCase();

      if (usuarios.hasOwnProperty(tecla) && !teclaPresionada) {
        teclaPresionada = true;
        primerUsuario = usuarios[tecla];

        document.getElementById('username').value = primerUsuario;
        document.getElementById('resultado').textContent =
          `El usuario "${primerUsuario}" ha presionado la tecla "${tecla.toUpperCase()}"`;

      } else if (usuarios.hasOwnProperty(tecla) && teclaPresionada) {
        const segundoUsuario = usuarios[tecla];
        const mensaje = `El primer usuario seleccionado fue "${primerUsuario}".<br>
                         El segundo intento fue "${segundoUsuario}".<br>
                         <strong>Solo la primera elección es válida.</strong><br>
                         Por favor, recarga la página para intentarlo de nuevo.`;
        document.getElementById('mensajeFinal').innerHTML = mensaje;
      }
    });
  </script>

</body>
</html>